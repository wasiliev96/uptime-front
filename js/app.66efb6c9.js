(function(t){function e(e){for(var a,o,i=e[0],u=e[1],c=e[2],d=0,m=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/uptime-front/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},ba8c:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("0cdd");var a=n("2b0e"),r=n("5f5b");n("ab8b"),n("2dd8");a["default"].use(r["a"]);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("b-modal",{attrs:{"hide-footer":""},model:{value:t.showAuthModal,callback:function(e){t.showAuthModal=e},expression:"showAuthModal"}},[n("b-form",{ref:"auth",on:{submit:[t.auth,function(e){return e.preventDefault(),t.auth(e)}]}},[n("b-form-group",{attrs:{id:"input-group-1","label-for":"input-1",description:"We'll never share your email with anyone else."}},[n("b-form-input",{attrs:{id:"username",type:"text",placeholder:"Enter username",required:""},model:{value:t.credentials.username,callback:function(e){t.$set(t.credentials,"username",e)},expression:"credentials.username"}}),n("b-form-input",{attrs:{id:"username",type:"password",required:""},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}})],1),n("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.loading}},[t.loading?n("b-spinner",{attrs:{small:"",type:"grow"}}):n("span",[t._v("Submit")])],1)],1)],1),t.loading?n("b-button",{attrs:{variant:"outline-success",type:"submit"}},[n("b-spinner",{attrs:{small:"",type:"grow"}})],1):n("b-btn",{attrs:{block:"",variant:"outline-danger"},on:{click:t.logout}},[t._v("Logout")]),n("div",{staticClass:" bg-white px-2 pt-3 pb-1 shadow"},[n("b-form",{on:{submit:t.addManyItems}},[n("b-input-group",[n("b-form-textarea",{attrs:{required:"",id:"textarea",placeholder:"Enter domains, one per row...",rows:"3","max-rows":"20"},model:{value:t.newDomainsString,callback:function(e){t.newDomainsString=e},expression:"newDomainsString"}}),n("b-input-group-append",[t.loading?n("b-button",{attrs:{variant:"outline-success",type:"submit"}},[n("b-spinner",{attrs:{small:"",type:"grow"}})],1):n("b-button",{attrs:{variant:"outline-success",type:"submit"}},[t._v(" Add domains ")])],1)],1)],1)],1),n("b-container",{staticClass:"pb-5"},[n("b-row",[n("b-col",{staticClass:"mx-auto ",staticStyle:{"max-width":"1200px",height:"85vh","overflow-y":"auto"},attrs:{cols:"12",lg:"10"}},[n("b-table",{attrs:{"head-variant":"light",busy:!t.getTableRows.length,fields:t.getTableFields,items:t.getTableRows,striped:"",hover:""},scopedSlots:t._u([{key:"cell(domain)",fn:function(e){return[n("a",{staticClass:"text-left d-inline-block",attrs:{href:"https://"+e.item.domain,target:"_blank"}},[t._v(t._s(e.item.domain))])]}},{key:"cell(controls)",fn:function(e){return[n("b-button",{staticClass:"mr-2",attrs:{size:"md",variant:e.item.status&&200===e.item.status?"success":e.item.status&&e.item.status<=302?"warning":e.item.status&&"danger"},on:{click:function(n){return t.ping(e.item.domain,e.item.id)}}},[e.item.status?"0"===e.item.status?n("b-spinner",{attrs:{small:"",type:"grow"}}):n("span",{domProps:{textContent:t._s(e.item.status)}}):n("span",[t._v(t._s("✈"))])],1),t.loading?n("b-button",{staticClass:"mr-2",attrs:{variant:"outline-success",type:"submit"}},[n("b-spinner",{attrs:{small:"",type:"grow"}})],1):n("b-button",{staticClass:"mr-2",attrs:{size:"md",variant:"outline-danger"},on:{click:function(n){return t.deleteItem(e.item.id)}}},[t._v(" ⨉ ")])]}},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-primary my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Loading...")])],1)]},proxy:!0}])})],1)],1)],1)],1)},o=[],i=(n("99af"),n("4de4"),n("7db0"),n("c740"),n("d81d"),n("d3b7"),n("ac1f"),n("1276"),n("498a"),n("5530")),u=(n("96cf"),n("1da1")),c=n("d4ec"),l=n("bee2"),d=n("262e"),m=n("2caf"),h=n("9ab4"),p=n("60a3"),f=n("bc3a"),b=n.n(f),g=function(t){Object(d["a"])(n,t);var e=Object(m["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.authorized=!0,t.credentials={username:"",password:""},t.baseURL="https://uptime-master.herokuapp.com",t.showAuthModal=!1,t.loading=!1,t.newDomain=null,t.domains=[],t.newDomainsString="",t}return Object(l["a"])(n,[{key:"auth",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,b.a.get("".concat(this.baseURL,"/getdomains"),{auth:{username:this.credentials.username,password:this.credentials.password}});case 3:e=t.sent,e?(localStorage.setItem("username",this.credentials.username),localStorage.setItem("password",this.credentials.password),this.authorized=!0,this.showAuthModal=!1,this.getDomainsFromServer().then((function(){n.loading=!1}))):this.showAuthModal=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"logout",value:function(){localStorage.removeItem("username"),localStorage.removeItem("password"),this.authorized=!1,this.credentials.username="",this.credentials.password="",this.domains=[],this.showAuthModal=!0}},{key:"clearDomainsInput",value:function(){this.newDomainsString=""}},{key:"addItem",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,b.a.post("".concat(this.baseURL,"/addone/"),{data:{host:this.newDomain}},{auth:{username:this.credentials.username,password:this.credentials.password}}).then((function(){e.getDomainsFromServer()})).then((function(){e.loading=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addManyItems",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),console.log("Add many items"),!(this.getDomainsToSave[0].length>=5)||this.getDomainsToSave.find((function(t){return console.log(t),!/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/.test(t)}))){t.next=8;break}return this.loading=!0,t.next=6,b.a.post("".concat(this.baseURL,"/addmany/"),{data:{hosts:this.getDomainsToSave}},{auth:{username:this.credentials.username,password:this.credentials.password}}).then((function(){n.getDomainsFromServer()})).then((function(){n.loading=!1,n.clearDomainsInput()}));case 6:t.next=10;break;case 8:return this.makeToast("danger","wrong input"),t.abrupt("return");case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"deleteItem",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,console.log("DeleteItem"),console.log(e),t.next=5,b.a.delete("".concat(this.baseURL,"/deleteone/"),{data:{id:e},auth:{username:this.credentials.username,password:this.credentials.password}}).then((function(t){console.log(t),n.domains=n.domains.filter((function(t){return t._id!=e})),console.log("Done!")})).then((function(){n.loading=!1,n.makeToast("success","domain removed")}),(function(){n.makeToast("danger","Error")}));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getDomainsFromServer",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,b.a.get("".concat(this.baseURL,"/getdomains/"),{auth:{username:this.credentials.username,password:this.credentials.password}}).then((function(t){e.domains=t.data.domains.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{status:null})}))})).then((function(){console.log(e.domains)})).then((function(){e.loading=!1,e.makeToast("success","Domain successfully gotted from server")}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"makeToast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$bvToast.toast(e,{title:"Notify",variant:t,toaster:"b-toaster-bottom-right",appendToast:!0,autoHideDelay:5e3})}},{key:"mounted",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.username||!localStorage.password){t.next=7;break}return this.credentials.username=localStorage.username,this.credentials.password=localStorage.password,t.next=5,b.a.get("".concat(this.baseURL,"/getdomains"),{auth:{username:this.credentials.username,password:this.credentials.password}}).then((function(){e.authorized=!0,e.showAuthModal=!1})).then((function(){e.authorized?e.getDomainsFromServer():e.showAuthModal=!0}));case 5:t.next=9;break;case 7:this.authorized=!1,this.showAuthModal=!0;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"ping",value:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e,n){var a,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this.domains.findIndex((function(t){return t._id===n})),this.domains[a].status="0",console.log("ping https://".concat(e)),fetch("https://"+e).then((function(t){console.log(t),console.log(a),a>=0?(r.domains[a].status=t.status,r.makeToast(200===t.status?"success":t.status<=302?"warning":"danger","Host: ".concat(e,"\nPing status: ").concat(t.status))):console.log("not found domain")})).catch((function(t){r.makeToast("warning","Can`t connect. Try to enable CORS(by extension) and VPN"),console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"getDomainsToSave",get:function(){return this.newDomainsString.split("\n").map((function(t){return t.trim()}))}},{key:"getDomains",get:function(){return this.domains}},{key:"getTableFields",get:function(){return[{key:"domain",label:"Domain",sortable:!0},{key:"controls",label:"Controls",sortable:!1}]}},{key:"getTableRows",get:function(){return this.domains.map((function(t){return{domain:t.host,id:t._id,status:t.status}}))}}]),n}(p["b"]);g=Object(h["a"])([Object(p["a"])({components:{}})],g);var v=g,w=v,y=(n("5c0b"),n("2877")),k=Object(y["a"])(w,s,o,!1,null,null,null),x=k.exports;n("ba8c");a["default"].config.productionTip=!1,new a["default"]({render:function(t){return t(x)}}).$mount("#app")}});
//# sourceMappingURL=app.66efb6c9.js.map